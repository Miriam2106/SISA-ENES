<!DOCTYPE html>
<html lang="es" ng-app="sisa">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SISA</title>
    <link rel="icon" href="../../../img/utez/favicon.ico" />
    <!-- Bootstrap Core CSS -->
    <link href="../../../components/bootstrap/dist/css/bootstrap_1.css" rel="stylesheet">


    <!-- MetisMenu CSS -->
    <link href="../../../components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">

    <!-- Timeline CSS -->
    <link href="../../../css/general.css" rel="stylesheet">
    <link href="../../../css/timeline.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../../css/sb-admin-2.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="../../../components/morrisjs/morris.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../../../components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- include the core styles -->
    <link rel="stylesheet" href="../../../css/alertify.core.css" />
    <!-- include a theme, can be included into the core instead of 2 separate files -->
    <link rel="stylesheet" href="../../../css/sweetalert.css" />


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
        }

        .fb-profile img.fb-image-lg {
            z-index: 0;
            width: 100%;
            margin-bottom: 10px;
        }

        .fb-image-profile {
            margin: -90px 10px 0px 50px;
            z-index: 9;
            width: 13%;
        }

        @media (max-width:768px) {
            .fb-profile-text>h1 {
                font-size: 14px;
            }

            .fb-image-profile {
                margin: -45px 10px 0px 25px;
                z-index: 9;
                width: 13%;
            }
        }

        #descripcionEncuesta {
            font-size: 18px;
        }
    </style>
    <style>
        /* Paste this css to your style sheet file or under head tag */
        /* This only works with JavaScript,
        if it's not present, don't show loader */
        .no-js #loader {
            display: none;
        }

        .js #loader {
            display: block;
            position: absolute;
            left: 100px;
            top: 0;
        }

        .se-pre-con {
            position: fixed;
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background: url(./img/system/preloader.gif) center no-repeat #fff;
        }
    </style>
</head>

<body ng-controller="ControlEncuesta" ng-init="consultarEncuesta()">
    <div class="se-pre-con text-center"></div>
    <div id="wrapper">

        <!-- Navigation -->
        <nav id="topMenu" class="navbar navbar-default navbar-static-top navbar-fixed-top" role="navigation"
            style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Navegación</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="./iniciarSesion" style="color: #FFF !important;">Sistema Integral de
                    Servicios Académicos | SISA</a>
            </div>
            <!-- /.navbar-header -->

            <ul id="rightMenu" class="nav navbar-top-links navbar-right">

                <li class="dropdown">

                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" id="cerrarSesion" href="/cerrarSesion">
                        <i class="fa fa-power-off fa-fw"></i> Salir
                    </a>
                </li>
                <!-- /.dropdown -->
            </ul>
            <!-- /.navbar-top-links -->

            <!DOCTYPE html>
            <div id="leftMenu" class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li class="sidebar-search text-center hidden-xs "
                            style="background-color: #fff;padding: 15px 0 5px 0;">
                            <img width="100%" src="../../../img/utez/lenguaje-incluyente.png" />
                        </li>
                        <li class="sidebar-search text-center" style="color: #fff;">
                            <h5>Miriam Guadalupe Saucedo Bustamante</h5>
                            <h4>Estudiante</h4>
                        </li>
                        <li>
                            <a href="../../../jsp/permanencia/seguimiento/historialAcademico/historialAcademico.jsp"><i
                                    class="fa fa-book fa-fw"></i> Historial académico</a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-bar-chart-o fa-fw"></i> Estadías<span
                                    class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="#"><i class="fa fa-bar-chart-o fa-fw"></i> Encuestas<span
                                            class="fa arrow"></span></a>
                                    <ul class="nav nav-third-level">
                                        <li>
                                            <a href="../../../jsp/permanencia/estadia/inicioEncuesta.html">Encuesta de
                                                satisfacción de estadías</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="../../../jsp/permanencia/seguimiento/reportes.html"><i
                                    class="fa fa-book fa-fw"></i> Reportes</a>
                        </li>
                        <!--            <li>
                                    <a href="./jsp/permanencia/evaluacionDocente/evaluacion/inicioEvaluacionDocente.jsp"><i class="fa fa-braille fa-fw"></i> Evaluación Docente</a>
                                </li>-->
                        <li>
                            <a href="../../../jsp/permanencia/perfil/alumno/perfilAlumno.html"><i
                                    class="fa fa-user-o fa-fw"></i>Mi Perfil</a>
                        </li>
                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->

        </nav>
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header" style="background: #345177; color: white;">
                        <h4 class="modal-title" id="myModalLabel">Roles</h4>
                    </div>
                    <div class="modal-body">
                        <h4>Selecciona el rol para acceder a las funcionalidades correspondientes.</h4>
                        <div class="row">

                            <div class="col-md-12">
                                <div class="panel panel-primary">
                                    <div class="panel-heading">
                                        <div class="row">
                                            <a href="../../../../cambiarSesion?idRolCambiar=Alumno&rolCambiar=Estudiante"
                                                style="color: white;">
                                                <div class="col-md-8">Estudiante</div>
                                                <div class="col-md-4 text-right"><span class="text-right"><i
                                                            class="fa fa-angle-right"></i></span></div>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <p>Estudiante.</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-default btn-default pull-right"
                            data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="wrapper"></div>

        <div id="page-wrapper">
            <br />
            <div class="panel panel-primary">
                <div class="panel-heading"> ENCUESTA DE SATISFACCIÓN DE ESTUDIANTES EN ESTADÍA</div>
                <div class="panel-body">
                    <div ng-show="!verEncuesta">
                        <div class="row">
                            <div class="col-md-12 text-center">
                                <h2 class="text-primary" style="margin-bottom: 30px; font-weight: bolder;">
                                    Bienvenido(a) a la encuesta de <span ng-bind="encuesta.nombre"></span>
                                </h2>
                            </div>
                            <div class="col-md-12 text-center" id="descripcionEncuesta" style="margin-bottom: 30px;">
                                <p>
                                    Tomando en cuenta <b>TU PERIODO DE ESTADÍA</b>, expresa tu opinión acerca de los
                                    distintos
                                    sectores que estuvieron presentes en cada uno de los siguientes aspectos.
                                </p>
                                <p class="text-red">
                                    Recuerda que todas las preguntas son obligatorias
                                </p>
                            </div>
                            <div class="col-md-12 text-center" id="descripcionEncuesta" style="margin-bottom: 20px;">
                                <p ng-bind="encuesta.nombreAlumno" style="font-weight: bolder;"></p>
                                <p ng-bind="encuesta.carreraPerfil"></p>
                                <p ng-bind="encuesta.grupo"></p>
                            </div>
                            <div class="col-md-12 text-center">
                                <button class="btn btn-success" ng-click="comenzarEncuesta()">Comenzar</button>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 30px; padding-right: 20px; padding-left: 20px;">
                            <div class="alert alert-warning text-center" role="alert" style="font-weight: bolder;">
                                Para asegurar el correcto funcionamiento se recomienda no hacer uso del navegador
                                Internet Explorer
                            </div>
                        </div>
                    </div>
                    <div ng-show="verEncuesta">
                        <ul class="nav nav-tabs">
                            <li ng-repeat="seccion in encuesta.secciones | orderBy:'indice'"
                                ng-class="{'active': seccion.indice === 1, 'disabled': (!formSeccion.$valid || formSeccion.$pending) && seccion.indice != 1}"
                                id="{{'head'+seccion.indice}}"
                                ng-class="{'active': seccion.indice === 1 || formSeccion.$valid, 'disabled': (!formSeccion.$valid || formSeccion.$pending) && seccion.indice != 1}">
                                <a ng-href="{{ '#tab' + seccion.indice  }}" data-toggle="tab" ng-bind="seccion.nombre" id="{{'redirect'+seccion.indice}}"
                                ng-style="{ 'pointer-events': !formSeccion.$valid && seccion.indice != 1 ? 'none' : 'all' }">
                                </a>
                            </li>
                            <li class="disabled" id="headFinalizar">
                                <a ng-href="#finalizar" class="disabled" data-toggle="tab" id="redirectFinalizar"
                                ng-style="{ 'pointer-events': !formSeccion.$valid && seccion.indice != 1 ? 'none' : 'all' }">
                                Finalizar</a>
                            </li>
                        </ul>
                        <div class="tab-content" style="margin-top: 20px;">
                            <div class="tab-pane" ng-repeat="seccion in encuesta.secciones | orderBy:'indice'"
                                id="{{'tab'+seccion.indice}}"
                                ng-class="{'active': seccion.indice === 1 || formSeccion.$valid }">
                                <form role="form" name="formSeccion">
                                    <div>
                                        <span style="font-weight: bolder;">Instrucciones: </span>
                                        <span ng-bind="seccion.descripcion"></span>
                                        <span>.</span>
                                    </div>
                                    <p ng-if="seccion.nombre == 'Empresa'" style="margin-top: 10px;">
                                        <span style="font-weight: bolder;">Nombre de la empresa: </span>
                                        <span class="text-primary" style="font-weight: bolder;">UNIVERSIDAD TECNOLÓGICA
                                            EMILIANO ZAPATA</span>
                                    </p>
                                    <p ng-if="seccion.nombre == 'Asesora / Asesor'" style="margin-top: 10px;">
                                        <span style="font-weight: bolder;">Nombre de la asesora / asesor: </span>
                                        <span class="text-primary" style="font-weight: bolder;">MIGUEL ÁNGEL MORENO
                                            VELÁSQUEZ</span>
                                    </p>
                                    <div style="margin-top: 20px;">
                                        <div class="row">
                                            <!-- itera las preguntas -->
                                            <div class="col-xs-12 col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6"
                                                style="height: 150px;"
                                                ng-repeat="pregunta in seccion.preguntas | orderBy:'indice'">
                                                <span>{{pregunta.indice}}. {{pregunta.enunciado}}</span>
                                                <!-- preguntas de escala -->
                                                <div class="row" style="margin-bottom: 20px; margin-top: 20px;"
                                                    ng-if="pregunta.tipos_respuestas == 'Escala'">
                                                    <div class="col-xs-3 col-md-3">
                                                        <span>Muy mala</span>
                                                    </div>
                                                    <div class="col-xs-6 col-md-6">
                                                        <label class="group-radio">
                                                            <div>
                                                                <strong>1</strong>
                                                            </div>
                                                            <div>
                                                                <input type="radio" value="1"
                                                                    name="{{ 'escala' + pregunta.indice }}" ng-model="estado['resp'+pregunta.indice]"
                                                                    class="radio2" required>
                                                            </div>
                                                        </label>
                                                        <label class="group-radio">
                                                            <div>
                                                                <strong>2</strong>
                                                            </div>
                                                            <div>
                                                                <input type="radio" value="2"
                                                                    name="{{ 'escala' + pregunta.indice }}" ng-model="estado['resp'+pregunta.indice]"
                                                                    class="radio2" required>
                                                            </div>
                                                        </label>
                                                        <label class="group-radio">
                                                            <div>
                                                                <strong>3</strong>
                                                            </div>
                                                            <div>
                                                                <input type="radio" value="3"
                                                                    name="{{ 'escala' + pregunta.indice }}" ng-model="estado['resp'+pregunta.indice]"
                                                                    class="radio2" required>
                                                            </div>
                                                        </label>
                                                        <label class="group-radio">
                                                            <div>
                                                                <strong>4</strong>
                                                            </div>
                                                            <div>
                                                                <input type="radio" value="4"
                                                                    name="{{ 'escala' + pregunta.indice }}" ng-model="estado['resp'+pregunta.indice]"
                                                                    class="radio2" required>
                                                            </div>
                                                        </label>
                                                        <label class="group-radio">
                                                            <div>
                                                                <strong>5</strong>
                                                            </div>
                                                            <div>
                                                                <input type="radio" value="5"
                                                                    name="{{ 'escala' + pregunta.indice }}" ng-model="estado['resp'+pregunta.indice]"
                                                                    class="radio2" required>
                                                            </div>
                                                        </label>
                                                    </div>
                                                    <div class="col-xs-3 col-md-3">
                                                        <span>Excelente</span>
                                                    </div>
                                                </div>
                                                <!-- preguntas de select -->
                                                <div style="margin-bottom: 20px; margin-top: 20px;"
                                                    ng-if="pregunta.tipos_respuestas == 'Select'" class="form-group">
                                                    <select class="form-control" ng-model="respuesta" required>
                                                        <option selected value="">Selecciona...</option>
                                                        <option ng-repeat="respuesta in pregunta.respuestas"
                                                            value="{{respuesta.id}}">
                                                            {{respuesta.descripcion}}
                                                        </option>
                                                    </select>
                                                </div>
                                                <!-- preguntas libres -->
                                                <div style="margin-bottom: 20px; margin-top: 20px;"
                                                    ng-if="pregunta.tipos_respuestas == 'Libre'">
                                                    <textarea name="{{ 'libre' + pregunta.indice }}" ng-model="estado['resp'+pregunta.indice]" 
                                                    class="form-control" rows="3" required></textarea>
                                                </div>
                                                <!-- preguntas de opcion múltiple - CHECKBOX -->
                                                <div style="margin-bottom: 20px; margin-top: 20px;"
                                                    ng-if="pregunta.tipos_respuestas == 'Multiple'">
                                                    <div class="form-check"
                                                        ng-repeat="respuesta in pregunta.respuestas">
                                                        <input class="form-check-input" type="checkbox" ng-model="estado['resp'+pregunta.indice]"
                                                            value="{{respuesta.descripcion}}" ng-change="cambio(respuesta.descripcion)" required>
                                                        <label class="form-check-label"
                                                            ng-bind="respuesta.descripcion">
                                                        </label>
                                                    </div>
                                                </div>
                                                <!-- preguntas de Si No -->
                                                <div class="text-center" style="margin-bottom: 20px; margin-top: 20px;"
                                                    ng-if="pregunta.tipos_respuestas == 'SiNo'">
                                                    <label class="checkbox-inline">
                                                        <strong>Sí</strong>
                                                        <input type="radio" value="Si"
                                                            name="{{ 'estadoResp' + pregunta.indice }}"
                                                            ng-model="estado['res'+pregunta.indice]" class="radio2"
                                                            ng-change="cambio(estado['res'+pregunta.indice])" required>
                                                    </label>
                                                    <label class="checkbox-inline">
                                                        <strong>No</strong>
                                                        <input type="radio" value="No"
                                                            name="{{ 'estadoResp' + pregunta.indice }}"
                                                            ng-model="estado['res'+pregunta.indice]" class="radio2"
                                                            ng-change="cambio(estado['res'+pregunta.indice])" required>
                                                    </label>
                                                </div>
                                                <!-- subpreguntas -->
                                                <div ng-show="valorP === 'Si'">
                                                    <div class="col-xs-12 col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6"
                                                        style="height: 150px;"
                                                        ng-repeat="subpregunta in pregunta.subpreguntas"
                                                        style="height: 150px;">
                                                        <span>{{pregunta.indice}}.{{$index+1}}
                                                            {{subpregunta.enunciado}}</span>
                                                        <!-- preguntas libres -->
                                                        <div style="margin-bottom: 20px; margin-top: 20px;"
                                                            ng-if="subpregunta.tipos_respuestas == 'Numerico'">
                                                            <input type="number" class="form-control">
                                                        </div>
                                                        <!-- preguntas de opcion múltiple -->
                                                        <div style="margin-bottom: 20px; margin-top: 20px;"
                                                            ng-if="subpregunta.tipos_respuestas == 'Multiple'">
                                                            <div class="form-check" required
                                                                ng-repeat="respuesta in subpregunta.respuestas">
                                                                <input class="form-check-input" type="checkbox"
                                                                    value="{{respuesta.descripcion}}"
                                                                    id="defaultCheck1">
                                                                <label class="form-check-label" for="defaultCheck1"
                                                                    ng-bind="respuesta.descripcion">

                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="$index == 0">
                                        <div class="col-md-4 col-md-offset-8 text-center">
                                            
                                                <button class="btn btn-success" type="button" ng-disabled="formSeccion.$invalid || formSeccion.$pending" data-toggle="tab" href="{{ '#tab' + (seccion.indice+1)  }}" ng-click="classActive(seccion.indice+1)"
                                                >Siguiente</button>
                                            
                                        </div>
                                    </div>
                                    <div class="row" ng-if="$index != 0 && $index != encuesta.secciones.length-1 ">
                                        <div class="col-md-4 col-md-offset-8 text-center">
                                            <button class="btn btn-warning" ng-click="">Regresar</button>
                                            <button ng-disabled="!formSeccion.$valid" class="btn btn-success"
                                            data-toggle="tab" href="{{ '#tab' + (seccion.indice+1)  }}" ng-click="classActive(seccion.indice+1)" >Siguiente</button>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="$index == encuesta.secciones.length-1">
                                        <div class="col-md-4 col-md-offset-8 text-center">
                                            <button class="btn btn-warning" ng-click="">Regresar</button>
                                            <button ng-disabled="!formSeccion.$valid" class="btn btn-success"
                                            data-toggle="tab" href="#finalizar" ng-click="classFinalizar(seccion.indice)">Finalizar</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane" id="finalizar" class="disabled">
                                <div class="row" style="padding: 20px;">
                                    <div class="alert alert-warning text-center" role="alert"
                                        style="font-weight: bolder;">
                                        Finalizar encuesta.
                                    </div>
                                    <div class="text-center">
                                        <img src="../../../img/utez/pregunta.PNG" alt="" style="margin-bottom: 30px;">
                                        <h3 style="font-weight: bolder; margin-bottom: 20px;">¿Estás seguro(a) de
                                            finalizar la encuesta?
                                        </h3>
                                        <p style="margin-bottom: 20px;">Una vez enviadas tus respuestas no podrán ser
                                            modificadas</p>
                                        <div class="col-md-12 text-center">
                                            <button type="button" class="btn btn-danger" ng-click="">Aceptar</button>
                                            <button type="button" class="btn btn-secondary"
                                                ng-click="">Cancelar</button>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 
            <div  class="text-center">
                <img src="../../../../img/system/preloader.gif"/>
            </div>
        -->
                    </div>
                    <!--
                <div  class="text-center">
                    <img src="../../../../img/system/preloader.gif"/>
                </div>
            -->
                </div>
            </div>
        </div>
        <!-- /#page-wrapper -->
    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> -->
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="//code.jquery.com/ui/1.11.1/jquery-ui.js"></script> -->
    <script src="../../../components/jquery/dist/jquery.min.js"></script>
    <script>
        //paste this code under the head tag or in a separate js file.
        // Wait for window load
       
    </script>
    <!--<script src="./js/configuracion.js"></script>-->

    <!-- Bootstrap Core JavaScript -->
    <script src="../../../components/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="../../../components/metisMenu/dist/metisMenu.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="../../../js/sb-admin-2.js"></script>

    <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js"></script>-->

    <script src="../../../js/angular-1.4.6.min.js"></script>


    <!--Script Angular Perfil-->
    <script src="../../../js/control/permanencia/estadia/ajsControlEncuestas.js"></script>


    <script src="../../../js/sweetalert.min_1.js"></script>
    <script src="../../../js/SweetAlert.min.js"></script>
    <script src="../../../js/angular-locale_es-mx.js"></script>
    <script src="../../../js/ui-bootstrap-tpls-0.14.3.js"></script>

</body>

</html>